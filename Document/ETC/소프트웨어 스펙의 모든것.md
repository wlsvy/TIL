# 소프트웨어 설계의 모든 것

![](AllAboutSwArchitecture_Image/2022-04-11-12-46-48.png)

- 김익환, 전규현 지음

**책을 읽기 전에**

책에서 사용하는 용어 정리

문서

- **MRD(Marget Requirements Document), MRS(Market Requirements Specification)** 제품 기획서. 마케팅팀에서 작성하며 SRS 작성에 필요한 내용이 담긴 문서다.
- **PRD(Product Requirements Documents)** 회사에 따라 MRD 와 같은 의미로 사용되기도 하지만 market보다는 product 를 우선시하는 문서다. MRD와 마찬가지로 마케팅팀에서 작성하며 개발팀에서는 MRD와 구별할 필요가 없다.
- **SOW(Statement Of Work)** 개발이 아닌 프로젝트 매니지먼트의 입장에서 본 프로젝트 작업 요구사항을 설명한다. SOW의 작성 목적상 SRS 상위 제목에서 일부 겹칠 수 있으나 완전히 다른 용도로 작성하는 문서다.
- **SRS(Software Requirements Specification)** 소프트웨어 스펙 문서다. 'specification'또는 '스펙'이라고 짧게 부르기도 한다. 기능 명세서, feature list, 시방서 등과는 의미가 다르다. SRS 또는 스펙이라는 용어는 글로벌 소프트웨어 업계에서 널리 통용되는 표준 용어다.
- **SDS(Software Design Specification)** 소프트웨어 설계 문서다. 표준 문서가 있는 것은 아니라서 회사마다 문서 형식과 이름이 다르다. 자유도가 상당히 높은 문서다.
- **IRS(Interface Requirement Specification)** SRS의 일부이기도 하며 인터페이스만 별도로 작성한 문서를 말한다. 여러 시스템에 걸친 인터페이스를 별도로 작성해 여러 프로젝트에서 참조하기도 한다.

사람 또는 팀

- **제품 기획자, 기획자, 마케터** 소프트웨어를 기획하는 사람을 이른다. 기획 산출물인 '제품 기획서', 'MRD', 'MRS' 와 같은 문서를 만들어낸다. 종종 제품을 흥보하는 사람을 마케터라고 하지만 여기서는 마케터를 제품 기획자와 동일한 의미로 사용한다.
- **아키텍트** 여러 종류의 아키텍트를 총칭하는 말이다. 한 사람이 여러 아키텍트 역할을 겸하는 경우가 많다.
- **분석 아키텍트** 소프트웨어 스펙을 작성하는 사람을 말한다.
- **기술 아키텍트** 특정 소프트웨어 전문가를 말한다.
- **설계 아키텍트** 소프트웨어 아키텍처를 설계하는 사람을 말하다.
- **개발자, 소프트웨어 엔지니어** 소프트웨어를 개발하는 사람을 일컫는 광범위한 개념으로 사용된다. QA 엔지니어, 아키텍트를 포함한 말이기도 하다.
- **프로그래머** 주어진 스펙대로 소프트웨어를 구현하는 사람을 말하는, 약간 좁은 의미의 개발자다.
- **QA팀** 소프트웨어 개발 전반에 걸쳐 소프트웨어 품질을 보증하는 일을 하는 팀을 말한다. 
- **테스터** 소프트웨어가 스펙대로 개발됐는지 검증하는 일을 하는 사람을 말한다.
- **테스트 리더** 소프트웨어 테스트 계획을 세우고 테스트 설계를 하는 사람을 말한다. 또한 테스트 진행을 주도하고 관리한다.

행위

- **분석** SRS. 즉 소프트웨어 스펙을 작성하는 행위를 말한다.
- **설계** 소프트웨어 아키텍처를 설계하는 행위를 말한다. SDS 문서를 만들기도 하지만 산출물은 프로젝트에 따라 다르다.
- **상위 설계** 기본 설계를 말한다. 전체 시스템 구조를 규명하고 상위 컴포넌트를 식별하며 인터페이스를 정의한다.
- **하위 설계** 상세 설계를 말한다. 프로젝트마다 상세화 정도가 다르며 시스템을 점차 상세화해 추상화 수준을 낮춘다.

## 1부 : 소프트웨어 스펙이란?

### 소프트웨어 스펙의 개요

프로젝트 실패의 판단 기준은 제각각 다르지만 다음의 경우 프로젝트가 실패했다고 할 수 있다.

- 약속된 일정 내 제품 또는 서비스를 출시하지 못했다.
- 소프트웨어가 요구하는 품질(기능 요구사항, 성능, 안정성, 사용성, 확장성 등)을 충족하지 못했다.
- 프로젝트에 꼭 필요한 기술 개발에 실패했다.
- 아키텍처가 뒤죽박죽이 되어서 유지보수가 어려워졌다.
- 애초 예산보다 훨씬 더 많은 비용이 지출됐다.
- 연이은 야근으로 조직 사기가 떨어지고 많은 사람이 그만뒀다.

프로젝트가 실패하는 다양한 원인을 살펴보자.

- 고객의 요구사항을 충분히 파악하지 못했다.
- 초기에 제품의 방향을 빨리 정하지 못하고 우왕좌왕하며 보낸 시간이 많아서 정작 개발 시간이 부족했다.
- 스펙과 설계를 꼼꼼하게 작성하지 않고 코딩을 시작해서 엉뚱한 방향으로 개발했다.
- 작성된 스펙을 프로젝트 이해관계자들이 철저히 검토하지 않아서 잘못된 스펙으로 개발했다.
- 진행할수록 새로운 요구사항이 계속 생겨서 프로젝트가 한없이 늘어졌다.
- 변경된 요구사항을 일관되게 관리하지 못해서 프로젝트 팀원들이 서로 다른 기준으로 개발 했다.
- 상명하달된 출시 일정에 맞추기 위해 급하게 코딩부터 시작했다. 나중에 잘못된 코드를 재작성하느라 시간이 더 많이 소비됐다.
- 훈련이 덜 된 개발자들을 투입해서 초반에 갈팡질팡하느라 시간이 지체했다.
- 느슨한 일정 관리로 프로젝트가 지연되고 있다는 징후를 알아차리지 못했다.
- 리스크 관리를 하지 않아서 프로젝트에 큰 문제가 발생해 실패했다.
- 프로젝트 막판에 경영진이나 주요 고객이 프로젝트 방향을 완전히 틀어서 처음부터 다시 개발해야 했다.
- 지속적인 팀워크 불화로 프로젝트가 산으로 갔다.
- 외부에서 도입한 필수 기술이 기대처럼 동작하지 않는다는 사실을 막바지에 알게 됐다.
- 테스트팀에 스펙을 제대로 전달하지 못해서 테스트 준비를 충분히 하지 못했다.
- 회사의 표준 프로세스를 강요해 문서를 많이 만들다 보니 정작 개발에는 소홀해졌다.

실패 원인은 끝도 없이 많은데 이를 크게 나누면 스펙, 팀, 관리, 고객, 기술 등으로 분류할 수 있다. 글쓴이가 이중에서 가장 중요하게 생각하는 것은 '스펙'이다. 프로젝트의 가장 많은 실패 원인이 스펙과 관계되며 소프트웨어 버그의 절반 이상이 부실하거나 잘못 작성된 스펙 때문에 발생한다고 알려졌다.

프로젝트 규모가 작을 경우, 스펙을 제대로 적지 않고 요구사항 몇 줄로 개발해도 무난히 완성하곤 한다. 경험이 많은 몇몇 개발자가 주도하는 경우, 요구사항을 대충 알려줘도 잘 알아듣고 개발을 잘하기도 한다. 하지만 수십 명의 개발자가 투입되는 대규모 프로젝트에서는 체계적으로 정리된 스펙 문서가 반드시 필요하다. 외국에 외주를 줄 경우, 상세하게 적힌 스펙 문서와 인수 테스트 계획은 필수다.

요구사항이 누락되거나 어설프게 분석된 스펙도 문제지만 너무 상세하게 적거나 스펙 문서가 방대해지는 것도 문제다. 대규모 방법론을 따르는 회사에서는 종종 이런 함정에 빠진다. 소규모 프로젝트의 성공 경험을 대규모 프로젝트에 적용해서 실패하기도 하고, 반대로 중소규모 프로젝트에 대규모 방법론을 적용하는 것이 프로젝트 실패의 원인이 되기도 한다. 개발은 문서대로 진행되지 않을 뿐만 아니라, 문서가 너무 많아서 수시로 바뀌는 요구사항을 전부 문서에 반영하지도 못한다. 따라서 엄격한 프로세스로 규제하는 것도 어렵다. 자율에 맡겨도 쉽지 않다.

글쓴이가 생각하는 최선의 방법은 '원칙만 지킬 수 있는 최소한의 프로세스 환경에서 좋은 문화를 공유'하는 것이다. 빨리빨리 문화를 지양하고 적절한 분석과 설계를 거쳐 프로젝트를 진행하는 것이 지름길이라는 인식을 공유해야 한다.

**스펙에 대한 오해들**

- 폭포수 모델과 달리 우리는 애자일이라 잘 적을 필요가 없다. : 스펙 작성은 폭포수 모델에서나 하는 것이라는 생각은 오해다. 스펙 작성이 어렵다는 소문을 듣고 애자일agile을 선택하는 회사도 있다. 이 또한 애자일을 적용하면 어렵게 스펙을 작성하지 않아도 된다는 잘못된 생각에서 비롯된 것이다. 실무에서 폭포수 모델을 사용하는 소프트웨어 회사는 거의 없다. 방법론과 상관없이 소프트웨어 스펙은 중요하다. 애자일이라 하더라도 스펙 내용은 바뀌지 않는다. 적는 방법이 달라질 뿐이다.

**스펙의 역할**

**스펙을 제대로 작성하지 않으면**

스펙을 작성할 때 요구사항을 바꾸면 '1'이라는 비용이 들지만, 고객에게 전달된 다음에 바꾸면 수백 배의 비용이 들어간다. 요구사항이든 설계든 한 단계 뒤에서 고칠 경우 2~5배의 비용이 들어가서 단계를 거치고 시간이 흐를수록 수정 비용은 기하급수적으로 증가한다. 따라서 개발의 사전 단계인 기획과 분석, 설계가 적절하게 잘돼야 한다. 만의 하나 한창 개발하는 중에 기획이나 요구사항이 바뀌면 치러야 할 대가가 막대하다는 사실을 명심해야 한다.

![](AllAboutSwArchitecture_Image/2022-04-13-12-35-32.png)

### SRS

**SRS란 무엇인가**

소프트웨어 요구사항을 분석하고 이를 정리해 작성하는 스펙 문서는 셀 수 없을 만큼 다양하다. 개발 방법론에 따라 제시하는 문서 종류가 다르고 그 개수도 천차만별이다. 그중에서 이 책에서 주로 다룰 문서는 SRS (Software Requirements Specification)다. SRS는 specification혹은 spec(스펙)이라고도 한다. IEEE830에 SRS 문서를 작성하는 가이드가 정의되어 있고 DoD(미국 국방부) 표준 문서다.

**어떻게 소프트웨어를 빠르게 개발할 것인가**

소프트웨어를 빠르게 개발하기 위해 고려해야 할 것은 많지만, 여기서는 스펙을 중심으로 살펴본다.

![](AllAboutSwArchitecture_Image/2022-04-13-14-20-24.png)

![](AllAboutSwArchitecture_Image/2022-04-13-14-22-24.png)

이렇게 소프트웨어를 동시에 개발해 프로젝트 기간을 단축하려면 사전 단계인 분석, 설계가 정교하게 되어야 한다. 특히 컴포넌트를 잘 나누고 인터페이스를 견고하게 정의해야 한다. 인터페이스는 간결하게 정의해서 모듈 간의 연동을 쉽게 하고 확고하게 정해서 함부로 바꾸지 않도록 한다. 물론 한번 정의한 인터페이스가 프로젝트 종료 시까지 변경되지 않는다면 가장 바람직하겠지만, 쉽지 않다. 개발 도중에 인터페이스를 변경하면 처음에 잘 정의한 경우보다 수십 배의 비용이 더 들어간다. 따라서 분석, 설계 시 최대한 세심한 노력을 기울여 인터페이스가 변경되지 않도록 정의해야 한다.

프로젝트 규모가 크고 참여 인원이 많을 수록 순차적 개발보다 병렬 개발이 더 효과적이다. 수십 명의 개발자가 참여하는 프로젝트라면 순차적 개발은 거의 불가능하다. 이들 개발자가 처음부터 잘 통합된 소스코드를 기반으로 병렬로 개발해야 프로젝트를 빨리 끝낼 수 있다.

![](AllAboutSwArchitecture_Image/2022-04-13-14-25-36.png)

인터페이스는 상호간의 약속이다. 클라이언트와 서버 모듈을 병렬 개발할 때 인터페이스는 클라이언트 개발팀과 서버 개발팀 간의 약속이다. 인터페이스를 확정하면 서로 약속한 것이니, 헤어져서 따로 개발해도 문제가 없을 정도로 신뢰도가 높아야 한다.

프로젝트 기간 내내 인터페이스를 잘 유지하기 위해서는 지속적인 통합이 필요하며 이를 위해서는 유닛 테스트, 테스트 자동화가 유용하다. 개발자는 자신이 작성한 모듈을 완성한 후에 소스코드 관리 시스템에 등록하는 것이 아니라 좀 더 잦은 주기로 등록해서 프로젝트 주기 내내 소스코드가 정상적으로 빌드되도록 유지해야 한다. 너무 늦게 통합할 경우 많은 문제를 일으키는 '통합의 지옥'을 맛보게 된다.

지속적인 통합을 위해 반드시 필요한 것은 주기적인 빌드다. 빌드 온 커밋build on commit을 하기도 하고 데일리 빌드daily build를 하기도 한다. 프로젝트 기간 내내 데일리 빌드는 실패가 없어야 한다. 데일리 빌드가 실패했다면 인터페이스가 깨졌거나 어떤 개발자가 깨진 소스코드를 올렸을 수 있다. 빌드가 깨지면 여러 개발자들이 개발에 차질을 빚게 된다. 

**스펙 문서의 유형**

- 이슈 관리시스템의 한 줄 또는 몇 줄의 설명
- 엔지니어링 one-pager
- 수십 페이지의 SRS
- 수백, 수천 페이지의 거대 방법론 스펙 문서
  - 거대 방법론에서는 문서를 수십 개 이상 작성하기도 한다. 이런 방법론에서는 스펙을 문서 하나로 정리하는 것이 아니라 여러 개 문서에 분산해 작성한다.

**요구사항과 스펙의 차이**

스펙에 대해 얘기할 때 종종 혼동하는 것이 요구사항이다. 영어로는 각각 specification과 requirement(s)다. 

- '요구사항'이란 말은 소프트웨어 업계 안팎에서 일반적 의미, 즉 고객이나 이해관계자가 요구하는 것으로 통용된다. 하지만 소프트웨어 '스펙'은 쓰는 사람에 따라 의미가 조금씩 다르다. 그래서 수많은 회사에서 또 여러 개발자들이 생각하는 의미에 미묘한 차이가 있을 수밖에 없다.
- 하지만 소프트웨어 '스펙'이라고 하면 머릿속에 그려지는 모습이 있다. 그리고 그 모습은 전 세계 개발자들이 공통으로 생각하는 것이다. 적어도 이런 내용이 포함됐고 이런 절차를 통해 만들었으리라는 생각이 자동으로 떠오르는 것이다.
- 그래서 요구사항은 한 줄이나 몇 줄에 불과하지만 그 요구사항을 잘 분석해서 스펙을 작성하면 몇 페이지 또는 수십, 수백 페이지 문서가 될 수도 있다. 그러니 스펙을 제대로 작성하지 않고 요구사항만 가지고 프로젝트를 시작하면 큰 재앙이 닥칠 수 있다. 특히 외주 프로젝트라면 그 재앙은 회사의 존속을 위태롭게 한다.

**스펙인 것과 스펙이 아닌 것**

![](AllAboutSwArchitecture_Image/2022-04-13-14-54-16.png)

![](AllAboutSwArchitecture_Image/2022-04-13-14-54-38.png)

**스펙과 프로젝트 일정의 관계**

![](AllAboutSwArchitecture_Image/2022-04-14-15-04-43.png)

![](AllAboutSwArchitecture_Image/2022-04-14-15-05-47.png)

![](AllAboutSwArchitecture_Image/2022-04-14-15-11-15.png)

위 그림을 보면 초기에는 50 ~ 200% 범위로 부정확한 일정을 얘기할 수밖에 없고 이를 듣는 사람도 부정확한 일정이라는 것을 염두에 둬야 한다. 그렇지 않으면 초기에 제시한 부정확한 일정에 발목이 잡혀 무리하게 프로젝트를 진행하다가 일을 망치고 사기도 저하된다. 그 후에는 일정 제시에 소극적이고 방어적이게 되어 유기적 협업 체제가 깨지고 만다.

![](AllAboutSwArchitecture_Image/2022-04-14-16-30-54.png)

![](AllAboutSwArchitecture_Image/2022-04-14-16-40-12.png)

다음 그림은 상향식으로 WBS를 통해 일정을 예측하고 프로젝트 기간 내내 일정 변동을 나타낸 그래프다. X 축은 날짜, Y축은 MD Man X Day(개발자의 하루치 일)이다.

![](AllAboutSwArchitecture_Image/2022-04-14-16-47-28.png)

![](AllAboutSwArchitecture_Image/2022-04-14-16-53-04.png)

리스크를 고려하지 않고 낙관적으로 예측한 일정으로 프로젝트를 진행하면 일정을 지키기가 어렵다. 리스크를 고려한 좀 더 정확한 프로젝트 일정을 예측하기 위해서는 꾸준히 리스크를 재평가하고 철저히 관리해야 한다. 리스크는 프로젝트 진행에 따라 계속 바뀌며 발생 확률도 변한다. 이런 요소들을 지속적으로 검토하고 일정에 반영해야 정확한 일정을 수시로 업데이트하고, 문제를 조기 발견해 대처하며 결국 프로젝트 일정을 준수할 확률이 높아진다.

**스펙과 설계의 구분**

스펙은 무엇을 만드느냐. 즉 'What'에 대한 것이고, 설계는 어떻게 만드느냐, 즉 'How'에 대한 것이라고 한다. 얼핏 들으면 반은 맞는 말이지만, 실효가 없는 말이다. 스펙과 설계의 경계는 생각보다 뚜렷하지 않다.

![](AllAboutSwArchitecture_Image/2022-04-14-17-33-55.png)

### 3장 : 스펙 작성의 현주소, 현실과 관행

**소프트웨어 공학, 약인가? 독인가?**

소프트웨어 공학은 소프트웨어를 최소의 비용으로 최단 기간에 개발하는 방법을 모아놓은 것이다.

![](AllAboutSwArchitecture_Image/2022-04-14-19-10-18.png)

![](AllAboutSwArchitecture_Image/2022-04-14-19-10-36.png)

### 5장 : 기업 문화

